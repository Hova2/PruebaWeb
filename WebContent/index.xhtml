<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
            
	<h:head>
		<title>Index WebApp PPP</title>
			
	</h:head>
	<h:body styleClass="sacarscroll">
		<f:facet name="last">
			<h:outputStylesheet library="css" name="estilos.css" />
		</f:facet>
			
		<p:tabView dynamic="true" cache="true">
        	<p:tab title="Clientes">
            	<p:panelGrid columns="3" styleClass="sinborde" columnClasses="centrado, centrado, centrado">
    				<p:graphicImage value="plus.jpg" width="40px" height="40px"/>
    				<p:graphicImage value="listar.jpg" width="50px" height="50px"/>
    				<p:graphicImage value="modificar.jpg" width="40px" height="40px"/>
    				<p:commandButton id="BCCliente" type="button" value="Cargar clientes" onclick="PF('PDVCCliente').show()" />
    				<p:commandButton id="BLCliente" type="button" value="Listar clientes" onclick="PF('PDVLCliente').show()" />
    				<p:commandButton id="BMCliente" type="button" value="Modificar clientes" onclick="PF('PDVMCliente').show()" />
 				</p:panelGrid>
   			</p:tab>
	        <p:tab title="Articulos">
            	<p:panelGrid columns="1">
    				<f:facet name="header">
        				<p:graphicImage value="plus.jpg" width="40px" height="40px"/>
    				</f:facet>
 					<h:outputText value="Cargar articulo" />
   				 </p:panelGrid>
	   		</p:tab>
	        <p:tab title="Pedidos">
	            	<p:panelGrid columns="1">
	    				<f:facet name="header">
	        				<p:graphicImage value="plus.jpg" width="40px" height="40px"/>
	    				</f:facet>
	 					<h:outputText value="Cargar pedido" />
	   				 </p:panelGrid>
		   	</p:tab>
    	</p:tabView>
    	
    	<p:dialog id="PDCCliente" header="Cargar cliente u organizacion" showEffect="explode" resizable="false" draggable="false" hideEffect="explode" widgetVar="PDVCCliente" modal="true" styleClass="sacarscroll">
 			<p:tabView id="TV" dynamic="true">
 				<p:tab id="T1" title="Cliente">
 					<h:form id="FC">
	 					<p:panelGrid id="PGCCli" columns="3" styleClass="sinborde sinbordetam">
		        			<p:outputLabel value="(*) Nombre:" />
					        <p:inputText id="CNom" value="#{PrincipalB.nom}" required="true" requiredMessage="Ingrese un nombre" validatorMessage="Debe tener al menos 2 caracteres ">
						        <f:validateLength minimum="2" />								
					        </p:inputText>
					        <p:message for="CNom" />
					     		
					     	<p:outputLabel value="(*) Apellido:" />
					        <p:inputText id="CApe" value="#{PrincipalB.ape}" required="true" requiredMessage="Ingrese un apellido" validatorMessage="Debe tener al menos 2 caracteres ">
					        	<f:validateLength minimum="2" />
					        </p:inputText>
					        <p:message for="CApe" />
					        
					        <p:outputLabel value="(*) D.N.I:" />
					        <p:inputText id="CDNI" value="#{PrincipalB.dni}" required="true" requiredMessage="Ingrese un D.N.I" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s" >
		        				<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />  			
		        			</p:inputText>
		        			<p:message for="CDNI" />
		        			
		        			<p:outputLabel value="CUIT:" />
		               		<p:inputText id="CCUIT" value="#{PrincipalB.cuit}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		               			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		               		</p:inputText>
					        <p:message for="CCUIT" />					        
					 		
					        <p:outputLabel value="Direccion:"  />
					        <p:inputText id="CDir" value="#{PrincipalB.dir}" validatorMessage="Debe tener al menos 2 caracteres">
					        	<f:validateLength minimum="2" />
					        </p:inputText>
					        <p:message for="CDir" />
					        
					        
					        <p:outputLabel value="Telefono 1:" />
		              		<p:inputText id="CTel1" value="#{PrincipalB.tel1}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		              			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		              		</p:inputText>
							<p:message for="CTel1" />
							
							<p:outputLabel value="Telefono 2:" />
					        <p:inputText id="CTel2" value="#{PrincipalB.tel2}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
					        	<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
					        </p:inputText>
					        <p:message for="CTel2" />
					        
					        <p:outputLabel value="E-Mail:" />
					        <p:inputText id="CEml" value="#{PrincipalB.eml}" validatorMessage="Ingrese una direccion valida">
					        	<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					        </p:inputText>
					        <p:message for="CEml"/>				                				                
				        </p:panelGrid>
				        <p:outputLabel value="Todos los campos con (*) son obligatorios" />
				        <br/>
				        <p:commandButton value="Guardar" action="#{PrincipalB.CCli}" update="PGCCli :TV:FO:PGCOrg"/>
 					</h:form>
 				</p:tab>
 				<p:tab id="T2" title="Organizacion">
 					<h:form id="FO">
	 					<p:panelGrid id="PGCOrg" columns="3" styleClass="sinborde sinbordetam">
		        			<p:outputLabel value="(*) Razon social:" />
					        <p:inputText id="CRaso" value="#{PrincipalB.raso}" required="true" requiredMessage="Ingrese una razon social" validatorMessage="Debe tener al menos 2 caracteres">
		        				<f:validateLength minimum="2" />
					        </p:inputText>
		        			<p:message for="CRaso" />
		        			<p:outputLabel value="CUIT:" />
		               		<p:inputText id="CCUIT" value="#{PrincipalB.cuit}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		               			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		               		</p:inputText>
					        <p:message for="CCUIT" />					        
					 		
					        <p:outputLabel value="Direccion:"  />
					        <p:inputText id="CDir" value="#{PrincipalB.dir}" validatorMessage="Debe tener al menos 2 caracteres">
					        	<f:validateLength minimum="2" />
					        </p:inputText>
					        <p:message for="CDir" />
					        
					        
					        <p:outputLabel value="Telefono 1:" />
		              		<p:inputText id="CTel1" value="#{PrincipalB.tel1}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		              			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		              		</p:inputText>
							<p:message for="CTel1" />
							
							<p:outputLabel value="Telefono 2:" />
					        <p:inputText id="CTel2" value="#{PrincipalB.tel2}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
					        	<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
					        </p:inputText>
					        <p:message for="CTel2" />
					        
					        <p:outputLabel value="E-Mail:" />
					        <p:inputText id="CEml" value="#{PrincipalB.eml}" validatorMessage="Ingrese una direccion valida">
					        	<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					        </p:inputText>
					        <p:message for="CEml"/>				                				                
				        </p:panelGrid>
				        <p:outputLabel value="Todos los campos con (*) son obligatorios" />
				        <br/>
				        <p:commandButton value="Guardar" action="#{PrincipalB.COrg}" update="PGCOrg :TV:FC:PGCCli"/>
			        </h:form>
 				</p:tab>
 			</p:tabView>
 			<p:ajax update="@this" resetValues="true"/> 	
 		</p:dialog>
 		
 		<p:dialog id="PDLCliente" header="Listar cliente u organizacion" showEffect="explode" resizable="false" draggable="false" hideEffect="explode" widgetVar="PDVLCliente" modal="true" styleClass="sacarscroll">
 			<p:tabView dynamic="true" cache="true">
 				<p:tab title="Cliente">
		 			<h:form>		 				
		    			<p:dataTable id="DTLClis" var="Clis" value="#{PrincipalB.LCli()}" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}" paginator="true" rows="15" style="margin-bottom:20px">		    		   
		                	
		                	<p:column>
		            			<f:facet name="header">
		                			<h:outputText value="N° de Cliente" />
		            			</f:facet>
		            			<h:outputText value="#{Clis.idcli}" />
		        			</p:column>
		        			<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="Nombre" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.nom}" />
		            		</p:column>
		            		<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="Apellido" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.ape}" />
		            		</p:column>
		            		<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="DNI" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.dni}" />
		            		</p:column>
		            		<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="Cuit" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.clienteOrganizacion.cuit}" />
		            		</p:column>
		            		<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="Direccion" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.clienteOrganizacion.dir}" />
		            		</p:column>
		            		<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="Telefono 1" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.clienteOrganizacion.tel1}" />
		            		</p:column>
		        			<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="Telefono 2" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.clienteOrganizacion.tel2}" />
		            		</p:column>
		        			<p:column>
		                		<f:facet name="header">
		                    		<h:outputText value="E-Mail" />
		                		</f:facet>
		                		<h:outputText value="#{Clis.clienteOrganizacion.eml}" />
		            		</p:column>
		    			</p:dataTable>		    			
		    			<h:commandLink>
		                	<p:graphicImage value="xls.png" width="40px" height="40px" />
		                	<p:dataExporter type="xls" target="DTLClis" fileName="Listado de clientes" />
		            	</h:commandLink>
		            	<h:commandLink>
		                	<p:graphicImage value="pdf.png" width="40px" height="40px" />
		                	<p:dataExporter type="pdf" target="DTLClis" fileName="Listado de clientes"/>
		                </h:commandLink>
		    		</h:form>
		    	</p:tab>
		    	<p:tab title="Organizacion">
		    		<h:form>
			    		<p:dataTable id="DTLOrgs" var="Orgs" value="#{PrincipalB.LOrg()}" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}" paginator="true" rows="15" style="margin-bottom:20px">		    		   
			            	<p:column>
			            		<f:facet name="header">
			                		<h:outputText value="N° de Cliente" />
			            		</f:facet>
			            		<h:outputText value="#{Orgs.idorg}" />
			        		</p:column>
			        		<p:column>
                				<f:facet name="header">
                    				<h:outputText value="Razon Social" />
                				</f:facet>
                				<h:outputText value="#{Orgs.raso}" />
            				</p:column>
			            	<p:column>
			                	<f:facet name="header">
			                    	<h:outputText value="Cuit" />
			                	</f:facet>
			                	<h:outputText value="#{Orgs.clienteOrganizacion.cuit}" />
			            	</p:column>
			            	<p:column>
			                	<f:facet name="header">
			                    	<h:outputText value="Direccion" />
			                	</f:facet>
			                	<h:outputText value="#{Orgs.clienteOrganizacion.dir}" />
			            	</p:column>
			            	<p:column>
			                	<f:facet name="header">
			                    	<h:outputText value="Telefono 1" />
			                	</f:facet>
			                	<h:outputText value="#{Orgs.clienteOrganizacion.tel1}" />
			            	</p:column>
			        		<p:column>
			                	<f:facet name="header">
			                    	<h:outputText value="Telefono 2" />
			                	</f:facet>
			                	<h:outputText value="#{Orgs.clienteOrganizacion.tel2}" />
			            	</p:column>
			        		<p:column>
			                	<f:facet name="header">
			                    	<h:outputText value="E-Mail" />
			                	</f:facet>
			                	<h:outputText value="#{Orgs.clienteOrganizacion.eml}" />
			            	</p:column>
			    		</p:dataTable>
			    		<h:commandLink>
			               	<p:graphicImage value="xls.png" width="40px" height="40px" />
			               	<p:dataExporter type="xls" target="DTLOrgs" fileName="Listado de clientes"/>
			            </h:commandLink>
			            <h:commandLink>
			               	<p:graphicImage value="pdf.png" width="40px" height="40px" />
			               	<p:dataExporter type="pdf" target="DTLOrgs" fileName="Listado de clientes"/>
			            </h:commandLink>
		    		</h:form>		
		    	</p:tab>
	    	</p:tabView>
 		</p:dialog>
 		<p:dialog id="PDMCliente" header="Modificar cliente u organizacion" showEffect="explode" resizable="false" draggable="false" hideEffect="explode" widgetVar="PDVMCliente" modal="true" dynamic="true" styleClass="sacarscroll">
 			<p:tabView dynamic="true">
 				<p:tab id="T1" title="Cliente">
 					<h:form id="FC">
	 					<p:panelGrid id="PGCCli" columns="3" styleClass="sinborde sinbordetam">
		        			<p:outputLabel value="Nombre:" />
					        <p:inputText id="CNom" value="#{PrincipalB.nom}" requiredMessage="Ingrese un nombre" validatorMessage="Debe tener al menos 2 caracteres ">
						        <f:validateLength minimum="2" />								
					        </p:inputText>
					        <p:message for="CNom" />
					     		
					     	<p:outputLabel value="Apellido:" />
					        <p:inputText id="CApe" value="#{PrincipalB.ape}" requiredMessage="Ingrese un apellido" validatorMessage="Debe tener al menos 2 caracteres ">
					        	<f:validateLength minimum="2" />
					        </p:inputText>
					        <p:message for="CApe" />
					        
					        <p:outputLabel value="D.N.I:" />
					        <p:inputText id="CDNI" value="#{PrincipalB.dni}" requiredMessage="Ingrese un D.N.I" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s" >
		        				<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />  			
		        			</p:inputText>
		        			<p:message for="CDNI" />
		        			
		        			<p:outputLabel value="CUIT:" />
		               		<p:inputText id="CCUIT" value="#{PrincipalB.cuit}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		               			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		               		</p:inputText>
					        <p:message for="CCUIT" />					        
					 		
					        <p:outputLabel value="Direccion:"  />
					        <p:inputText id="CDir" value="#{PrincipalB.dir}" validatorMessage="Debe tener al menos 2 caracteres">
					        	<f:validateLength minimum="2" />
					        </p:inputText>
					        <p:message for="CDir" />
					        
					        
					        <p:outputLabel value="Telefono 1:" />
		              		<p:inputText id="CTel1" value="#{PrincipalB.tel1}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		              			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		              		</p:inputText>
							<p:message for="CTel1" />
							
							<p:outputLabel value="Telefono 2:" />
					        <p:inputText id="CTel2" value="#{PrincipalB.tel2}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
					        	<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
					        </p:inputText>
					        <p:message for="CTel2" />
					        
					        <p:outputLabel value="E-Mail:" />
					        <p:inputText id="CEml" value="#{PrincipalB.eml}" validatorMessage="Ingrese una direccion valida">
					        	<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					        </p:inputText>
					        <p:message for="CEml"/>					                				                
				        </p:panelGrid>
				        <br/>
				        <p:outputLabel value="N° de cliente:" />
					        <p:inputText id="MNCli" value="#{PrincipalB.idcli}"/>					        					
					        <p:message for="MNCli"/>
				        <br/>
				        <p:commandButton value="Buscar" action="#{PrincipalB.BCli}" update="PGCCli :TV:FO:PGCOrg"/>				        	
				        <p:commandButton value="Guardar" action="#{PrincipalB.CCli}" update="PGCCli :TV:FO:PGCOrg :PDLCliente"/>
 					</h:form>
 				</p:tab>
 				<p:tab id="T2" title="Organizacion">
 					<h:form id="FO">
	 					<p:panelGrid id="PGCOrg" columns="3" styleClass="sinborde sinbordetam">
		        			<p:outputLabel value="(*) Razon social:" />
					        <p:inputText id="CRaso" value="#{PrincipalB.raso}" requiredMessage="Ingrese una razon social" validatorMessage="Debe tener al menos 2 caracteres">
		        				<f:validateLength minimum="2" />
					        </p:inputText>
		        			<p:message for="CRaso" />
		        			<p:outputLabel value="CUIT:" />
		               		<p:inputText id="CCUIT" value="#{PrincipalB.cuit}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		               			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		               		</p:inputText>
					        <p:message for="CCUIT" />					        
					 		
					        <p:outputLabel value="Direccion:"  />
					        <p:inputText id="CDir" value="#{PrincipalB.dir}" validatorMessage="Debe tener al menos 2 caracteres">
					        	<f:validateLength minimum="2" />
					        </p:inputText>
					        <p:message for="CDir" />
					        
					        
					        <p:outputLabel value="Telefono 1:" />
		              		<p:inputText id="CTel1" value="#{PrincipalB.tel1}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
		              			<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
		              		</p:inputText>
							<p:message for="CTel1" />
							
							<p:outputLabel value="Telefono 2:" />
					        <p:inputText id="CTel2" value="#{PrincipalB.tel2}" validatorMessage="Debe tener al menos 2 N°s y ser positivo" converterMessage="Solo se permiten N°s">
					        	<f:validateLength minimum="2" />
		        				<f:validateLongRange minimum="1" />
					        </p:inputText>
					        <p:message for="CTel2" />
					        
					        <p:outputLabel value="E-Mail:" />
					        <p:inputText id="CEml" value="#{PrincipalB.eml}" validatorMessage="Ingrese una direccion valida">
					        	<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					        </p:inputText>
					        <p:message for="CEml"/>				                				                
				        </p:panelGrid>
				        <br/>
				        <p:outputLabel value="N° de organizacion" />
					        <p:inputText id="MNOrg" value="#{PrincipalB.idorg}"/>					        					
					        <p:message for="MNOrg"/>
				        <br/>
				        <p:commandButton value="Buscar" action="#{PrincipalB.BOrg}" update="PGCOrg :TV:FC:PGCCli"/>
				        <p:commandButton value="Guardar" action="#{PrincipalB.COrg}" update="PGCOrg :TV:FC:PGCCli :PDLCliente"/>
			        </h:form>
 				</p:tab>
 			</p:tabView>
 			<p:ajax update="@this" resetValues="true"/>
 			
 		</p:dialog>
	</h:body>
</html>